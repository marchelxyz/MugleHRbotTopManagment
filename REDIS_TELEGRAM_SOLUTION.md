# ‚úÖ –†–µ—à–µ–Ω–∏–µ: –ú–∏–≥—Ä–∞—Ü–∏—è –∫–µ—à–∞ —Å Telegram CloudStorage –Ω–∞ Redis

## üéØ –ß—Ç–æ —Ä–µ—à–µ–Ω–æ

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü–æ—Å–ª–µ –∑–∞–∫—Ä—ã—Ç–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Ç–µ—Ä—è–ª–æ—Å—å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å Telegram, –∫–µ—à –±—ã–ª –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω, –±—ã–ª–∞ –Ω–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ Telegram API.

**–†–µ—à–µ–Ω–∏–µ:** –í–µ—Å—å –∫–µ—à –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω –Ω–∞ Redis –Ω–∞ Render (–±–µ—Å–ø–ª–∞—Ç–Ω–æ), —É–±—Ä–∞–Ω–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç Telegram CloudStorage.

## ‚úÖ –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ

### Backend
1. ‚úÖ –°–æ–∑–¥–∞–Ω —Ä–æ—É—Ç–µ—Ä `/cache` –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Redis –∫–µ—à–µ–º
2. ‚úÖ API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã: GET/PUT/DELETE –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∫–µ—à–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
3. ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π TTL –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∏–ø–∞ –¥–∞–Ω–Ω—ã—Ö
4. ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ `app.py`

### Frontend
1. ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω `storage.js` - —É–±—Ä–∞–Ω–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç `Telegram.WebApp.CloudStorage`
2. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã —Ñ—É–Ω–∫—Ü–∏–∏ –≤ `api.js` –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Redis API
3. ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω fallback –Ω–∞ localStorage –¥–ª—è –≤–µ–±-–±—Ä–∞—É–∑–µ—Ä–∞
4. ‚úÖ –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞

## üöÄ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

| –î–æ | –ü–æ—Å–ª–µ |
|---|---|
| ‚ùå –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç Telegram —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è | ‚úÖ –ù–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç Telegram |
| ‚ùå –ö–µ—à –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ—Å–ª–µ –∑–∞–∫—Ä—ã—Ç–∏—è | ‚úÖ –ö–µ—à —Ä–∞–±–æ—Ç–∞–µ—Ç –≤—Å–µ–≥–¥–∞ |
| ‚ùå –ù–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ Telegram API | ‚úÖ –ù–µ—Ç –Ω–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ Telegram |
| ‚ùå –ú–µ–¥–ª–µ–Ω–Ω–µ–µ | ‚úÖ –ë—ã—Å—Ç—Ä–µ–µ (Redis –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ) |

## üìã –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å

### 1. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ Redis –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ Render

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è:
```env
REDIS_URL=redis://your-redis-host:6379/0
```

### 2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–µ—Å–ª–∏ –µ—â–µ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã)

```bash
cd backend
pip install redis hiredis
```

### 3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –≤—Å–µ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!

## üîç –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö:
```javascript
// Frontend —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ Redis —á–µ—Ä–µ–∑ API
await setCachedData('feed', feedData);
// ‚Üí PUT /cache/feed ‚Üí Redis (TTL=30 —Å–µ–∫)
```

### –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö:
```javascript
// Frontend –ø–æ–ª—É—á–∞–µ—Ç –∏–∑ Redis —á–µ—Ä–µ–∑ API
const feed = await getCachedData('feed');
// ‚Üí GET /cache/feed ‚Üí Redis ‚Üí –¥–∞–Ω–Ω—ã–µ
```

## üìä TTL (–≤—Ä–µ–º—è –∂–∏–∑–Ω–∏ –∫–µ—à–∞)

- `feed`: 30 —Å–µ–∫—É–Ω–¥
- `market`: 5 –º–∏–Ω—É—Ç
- `leaderboard`: 1 –º–∏–Ω—É—Ç–∞
- `banners`: 5 –º–∏–Ω—É—Ç
- `history`: 5 –º–∏–Ω—É—Ç

## ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç

–¢–µ–ø–µ—Ä—å:
- ‚úÖ –ö–µ—à —Ä–∞–±–æ—Ç–∞–µ—Ç **–Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç Telegram**
- ‚úÖ –ù–µ—Ç –ø—Ä–æ–±–ª–µ–º —Å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ–º –ø–æ—Å–ª–µ –∑–∞–∫—Ä—ã—Ç–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- ‚úÖ **–ù–µ—Ç –Ω–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ Telegram API**
- ‚úÖ –ë—ã—Å—Ç—Ä–µ–µ –∏ –Ω–∞–¥–µ–∂–Ω–µ–µ
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π Redis –Ω–∞ Render

## üìù –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- `REDIS_TELEGRAM_MIGRATION.md` - –ø–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–∏
- `backend/routers/cache.py` - –∫–æ–¥ API –¥–ª—è –∫–µ—à–∞
- `frontend/src/storage.js` - –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –∫–æ–¥ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞

---

**–ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!** –ü—Ä–æ—Å—Ç–æ —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Redis –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ Render –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ.
