import{j as e,a5 as g}from"./react-vendor-CTCOu_cH.js";import{P as j}from"./PageLayout-BcvhvPkp.js";import{f as C,u as f,ae as w}from"./index-DWD9sWeV.js";import"./vendor-62T33e3N.js";import"./lottie-vendor-CdbPF2lo.js";import"./date-vendor-BIBOd_sa.js";import"./chart-vendor-CqyaVfOQ.js";import"./axios-vendor-D5lHaTRS.js";const N="_backButton_agn5x_2",B="_cardContainer_agn5x_3",T="_infoText_agn5x_4",k="_subText_agn5x_5",v="_deleteButton_agn5x_6",I="_requestButton_agn5x_7",a={backButton:N,cardContainer:B,infoText:T,subText:k,deleteButton:v,requestButton:I},$="_card_u91oe_2",y="_header_u91oe_20",W="_balance_u91oe_35",q="_swoosh_u91oe_48",L="_centerImageContainer_u91oe_59",A="_centerImage_u91oe_59",P="_content_u91oe_81",R="_owner_u91oe_87",U="_barcodeWrapper_u91oe_102",t={card:$,header:y,balance:W,swoosh:q,centerImageContainer:L,centerImage:A,content:P,owner:R,barcodeWrapper:U};function z({user:n}){return e.jsxs("div",{className:t.card,children:[e.jsx("div",{className:t.header,children:e.jsxs("div",{className:t.balance,children:[e.jsx("span",{children:"БАЛАНС"}),e.jsx("strong",{children:n.card_balance||0})]})}),e.jsx("div",{className:t.swoosh}),e.jsx("div",{className:t.centerImageContainer,children:e.jsx("img",{src:"https://i.postimg.cc/L8rxGLYz/Chat-GPT-Image-5-2025-00-30-17.webp",alt:"Card Center",className:t.centerImage})}),e.jsxs("div",{className:t.content,children:[e.jsxs("div",{className:t.owner,children:[e.jsx("span",{children:"ВЛАДЕЛЕЦ КАРТЫ"}),e.jsxs("strong",{children:[n.first_name," ",n.last_name]})]}),e.jsx("div",{className:t.barcodeWrapper,children:n.card_barcode&&e.jsx(g,{value:n.card_barcode,displayValue:!0,height:60,margin:0,background:"transparent",fontSize:16,lineColor:"#000"})})]})]})}function H({user:n,onBack:o,onUpdateUser:m}){const{confirm:_}=C(),{showAlert:r}=f(),u="https://t.me/fix2Form",p=async()=>{if(await _("Удаление карты","Вы уверены, что хотите удалить карту из профиля?"))try{const s=await w();m(s.data),r("Карта успешно удалена.","success"),o()}catch{r("Не удалось удалить карту.","error")}},x=()=>{var d,l;const c=`${n.first_name||""} ${n.last_name||""}`.trim()||"Не указано",s=n.phone_number||"Не указан",h=`Здравствуйте! Мне нужна карта Statix. Мои данные для выдачи:
1. Имя Фамилия - ${c}
2. Номер телефона - ${s}`,b=encodeURIComponent(h),i=`${u}?text=${b}`;(l=(d=window.Telegram)==null?void 0:d.WebApp)!=null&&l.openLink?window.Telegram.WebApp.openLink(i):window.open(i,"_blank","noopener,noreferrer")};return e.jsxs(j,{title:"Бонусная карта",children:[e.jsx("button",{onClick:o,className:a.backButton,children:"← Назад в профиль"}),n.card_barcode?e.jsxs("div",{className:a.cardContainer,children:[e.jsx(z,{user:n}),e.jsx("button",{onClick:p,className:a.deleteButton,children:"Удалить карту"})]}):e.jsxs("div",{className:a.cardContainer,children:[e.jsx("p",{className:a.infoText,children:"У вас пока нет бонусной карты."}),e.jsx("p",{className:a.subText,children:"Чтобы добавить карту, отправьте файл `.pkpass` нашему боту в Telegram."}),e.jsx("button",{onClick:x,className:a.requestButton,children:"Запросить карту"})]})]})}export{H as default};
