import{r,j as i,z as d,a3 as x,Y as N,q as j}from"./react-vendor-CTCOu_cH.js";import{P as y}from"./PageLayout-BcvhvPkp.js";import"./vendor-62T33e3N.js";import"./lottie-vendor-CdbPF2lo.js";import"./date-vendor-BIBOd_sa.js";import"./chart-vendor-CqyaVfOQ.js";const I="_backButton_u5hvr_3",B="_unreadBadge_u5hvr_14",g="_filterButtons_u5hvr_26",C="_filterButton_u5hvr_26",$="_active_u5hvr_49",k="_notificationsList_u5hvr_55",w="_notificationItem_u5hvr_61",b="_unread_u5hvr_14",T="_notificationIconContainer_u5hvr_82",D="_notificationIcon_u5hvr_82",M="_notificationContent_u5hvr_98",S="_notificationHeader_u5hvr_103",L="_notificationTitle_u5hvr_111",F="_notificationTime_u5hvr_119",E="_notificationMessage_u5hvr_125",H="_emptyState_u5hvr_132",P="_emptyIcon_u5hvr_138",t={backButton:I,unreadBadge:B,filterButtons:g,filterButton:C,active:$,notificationsList:k,notificationItem:w,unread:b,notificationIconContainer:T,notificationIcon:D,notificationContent:M,notificationHeader:S,notificationTitle:L,notificationTime:F,notificationMessage:E,emptyState:H,emptyIcon:P};function K({user:R,onBack:_}){const[a,h]=r.useState([]),[n,o]=r.useState("all");r.useEffect(()=>{const e=[{id:1,type:"purchase",title:"Покупка одобрена",message:'Ваш локальный подарок "Подарочная карта" был одобрен администратором',timestamp:new Date(Date.now()-36e5),read:!1},{id:2,type:"profile",title:"Изменения профиля одобрены",message:"Ваши изменения в профиле были одобрены администратором",timestamp:new Date(Date.now()-72e5),read:!1},{id:3,type:"system",title:"Добро пожаловать!",message:'Спасибо за регистрацию в системе "Спасибо"',timestamp:new Date(Date.now()-864e5),read:!0}];h(e)},[]);const p=e=>{switch(e){case"purchase":return i.jsx(j,{className:t.notificationIcon});case"profile":return i.jsx(N,{className:t.notificationIcon});case"system":return i.jsx(x,{className:t.notificationIcon});default:return i.jsx(d,{className:t.notificationIcon})}},v=e=>{const s=new Date-e,c=Math.floor(s/6e4),u=Math.floor(s/36e5),m=Math.floor(s/864e5);return c<1?"только что":c<60?`${c} мин. назад`:u<24?`${u} ч. назад`:m<7?`${m} дн. назад`:e.toLocaleDateString("ru-RU",{day:"numeric",month:"short"})},l=n==="all"?a:a.filter(e=>e.type===n),f=a.filter(e=>!e.read).length;return i.jsxs(y,{title:"Уведомления",children:[i.jsx("button",{onClick:_,className:t.backButton,children:"← Назад в профиль"}),f>0&&i.jsxs("div",{className:t.unreadBadge,children:[f," непрочитанных"]}),i.jsxs("div",{className:t.filterButtons,children:[i.jsx("button",{onClick:()=>o("all"),className:`${t.filterButton} ${n==="all"?t.active:""}`,children:"Все"}),i.jsx("button",{onClick:()=>o("purchases"),className:`${t.filterButton} ${n==="purchases"?t.active:""}`,children:"Покупки"}),i.jsx("button",{onClick:()=>o("profile"),className:`${t.filterButton} ${n==="profile"?t.active:""}`,children:"Профиль"}),i.jsx("button",{onClick:()=>o("system"),className:`${t.filterButton} ${n==="system"?t.active:""}`,children:"Система"})]}),i.jsx("div",{className:t.notificationsList,children:l.length===0?i.jsxs("div",{className:t.emptyState,children:[i.jsx(d,{className:t.emptyIcon}),i.jsx("p",{children:"Нет уведомлений"})]}):l.map(e=>i.jsxs("div",{className:`${t.notificationItem} ${e.read?"":t.unread}`,children:[i.jsx("div",{className:t.notificationIconContainer,children:p(e.type)}),i.jsxs("div",{className:t.notificationContent,children:[i.jsxs("div",{className:t.notificationHeader,children:[i.jsx("h3",{className:t.notificationTitle,children:e.title}),i.jsx("span",{className:t.notificationTime,children:v(e.timestamp)})]}),i.jsx("p",{className:t.notificationMessage,children:e.message})]})]},e.id))})]})}export{K as default};
