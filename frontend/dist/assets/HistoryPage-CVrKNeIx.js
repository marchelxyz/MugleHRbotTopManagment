import{r as o,j as s}from"./react-vendor-CTCOu_cH.js";import{o as g}from"./index-DWD9sWeV.js";import{P as l}from"./PageLayout-BcvhvPkp.js";import{f as _}from"./dateFormatter-NZopE8Q3.js";import"./vendor-62T33e3N.js";import"./lottie-vendor-CdbPF2lo.js";import"./date-vendor-BIBOd_sa.js";import"./chart-vendor-CqyaVfOQ.js";import"./axios-vendor-D5lHaTRS.js";const p="_backButton_18342_3",h="_list_18342_14",u="_transactionItem_18342_18",j="_outgoingBorder_18342_28",f="_incomingBorder_18342_31",B="_outgoing_18342_28",x="_incoming_18342_31",N="_message_18342_50",k="_timestamp_18342_58",t={backButton:p,list:h,transactionItem:u,outgoingBorder:j,incomingBorder:f,outgoing:B,incoming:x,message:N,timestamp:k};function $({user:e,onBack:r}){const[i,c]=o.useState([]),[m,d]=o.useState(!0);return o.useEffect(()=>{e&&(async()=>{try{const a=await g(e.id);c(a.data)}catch{}finally{d(!1)}})()},[e]),s.jsxs(l,{title:"История",children:[s.jsx("button",{onClick:r,className:t.backButton,children:"← Назад"}),m?s.jsx("p",{children:"Загрузка..."}):i.length>0?s.jsx("div",{className:t.list,children:i.map(n=>s.jsxs("div",{className:`${t.transactionItem} ${n.sender.id===e.id?t.outgoingBorder:t.incomingBorder}`,children:[n.sender.id===e.id?s.jsxs("p",{children:[s.jsx("span",{className:t.outgoing,children:"Вы отправили"}),s.jsxs("strong",{children:[" ",n.amount," баллов"]}),s.jsxs("span",{children:[" ",n.receiver.first_name," ",n.receiver.last_name]})]}):s.jsxs("p",{children:[s.jsx("span",{className:t.incoming,children:"Вы получили"}),s.jsxs("strong",{children:[" ",n.amount," баллов"]}),s.jsxs("span",{children:[" от ",n.sender.first_name," ",n.sender.last_name]})]}),n.message&&s.jsxs("p",{className:t.message,children:['"',n.message,'"']}),s.jsx("p",{className:t.timestamp,children:_(n.timestamp)})]},n.id))}):s.jsx("p",{children:"У вас пока нет транзакций."})]})}export{$ as default};
