// frontend/src/pages/FaqPage.jsx

import React from 'react';
import PageLayout from '../components/PageLayout'; // <-- 1. Импортируем PageLayout
import styles from './FaqPage.module.css';

function FaqPage({ onBack }) {
  return (
    // 2. Оборачиваем все в PageLayout с нужным заголовком
    <PageLayout title="Часто задаваемые вопросы">
      
      {/* 3. Кнопка "Назад" теперь опциональна и стилизована */}
      {onBack && (
        <button onClick={onBack} className={styles.backButton}>
          &larr; Назад к настройкам
        </button>
      )}

      {/* 4. Оборачиваем вопросы в контейнер для стилизации */}
      <div className={styles.faqContainer}>
        {/* Регистрация и активация */}
        <div className={styles.faqSection}>
          <h3 className={styles.sectionTitle}>Регистрация и активация</h3>
          
          <div className={styles.faqItem}>
            <h4>Как зарегистрироваться в приложении?</h4>
            <p>При первом открытии приложения через Telegram вы увидите форму регистрации. Заполните все необходимые данные: имя, фамилию, должность, отдел, номер телефона и дату рождения. После отправки формы администратор рассмотрит вашу заявку.</p>
          </div>

          <div className={styles.faqItem}>
            <h4>Сколько ждать одобрения регистрации?</h4>
            <p>Время рассмотрения заявки зависит от администратора. Обычно это происходит в течение рабочего дня. Вы получите уведомление в Telegram, когда ваша заявка будет одобрена или отклонена.</p>
          </div>

          <div className={styles.faqItem}>
            <h4>Что делать, если мне отклонили регистрацию?</h4>
            <p>Если ваша заявка была отклонена, свяжитесь с администратором через Telegram для уточнения причины. Возможно, потребуется исправить данные или уточнить детали.</p>
          </div>
        </div>

        {/* Система спасибок */}
        <div className={styles.faqSection}>
          <h3 className={styles.sectionTitle}>Система спасибок</h3>
          
          <div className={styles.faqItem}>
            <h4>Как я могу получить баллы "Спасибки"?</h4>
            <p>Вы можете получить спасибки несколькими способами: от коллег в качестве благодарности за помощь (через переводы), выиграв их в рулетке удачи, а также автоматически на день рождения.</p>
          </div>

          <div className={styles.faqItem}>
            <h4>Мои баллы сгорают?</h4>
            <p>Политика сгорания баллов определяется администрацией. На данный момент баллы не сгорают.</p>
          </div>

          <div className={styles.faqItem}>
            <h4>Есть ли ограничения на получение спасибок?</h4>
            <p>Ограничения могут устанавливаться администрацией. Автоматические начисления (например, на день рождения) происходят один раз в год. В рулетке количество билетов ограничено.</p>
          </div>
        </div>

        {/* Переводы */}
        <div className={styles.faqSection}>
          <h3 className={styles.sectionTitle}>Переводы между сотрудниками</h3>
          
          <div className={styles.faqItem}>
            <h4>Как отправить спасибки коллеге?</h4>
            <p>Перейдите в раздел "Переводы" с главной страницы, найдите коллегу через поиск и добавьте сообщение-благодарность. Подтвердите перевод.</p>
          </div>

          <div className={styles.faqItem}>
            <h4>Сколько переводов я могу сделать в день?</h4>
            <p>Вы можете сделать до 3 переводов в день. Лимит сбрасывается автоматически ежедневно в полночь.</p>
          </div>

          <div className={styles.faqItem}>
            <h4>Можно ли вернуть перевод, если ошибся?</h4>
            <p>Автоматического возврата переводов нет. Если вы совершили ошибку, обратитесь к администратору через Telegram для решения вопроса.</p>
          </div>

          <div className={styles.faqItem}>
            <h4>Как посмотреть историю переводов?</h4>
            <p>В разделе "Профиль" есть пункт "История", где отображаются все ваши транзакции: входящие и исходящие переводы, покупки в магазине и выигрыши в рулетке.</p>
          </div>
        </div>

        {/* Рулетка */}
        <div className={styles.faqSection}>
          <h3 className={styles.sectionTitle}>Рулетка удачи</h3>
          
          <div className={styles.faqItem}>
            <h4>Как работает рулетка?</h4>
            <p>Для участия в рулетке нужно собрать билет из 3 частей. Части билетов можно получить от коллег или в других активностях. После сборки билета вы можете крутить рулетку и выигрывать спасибки.</p>
          </div>

          <div className={styles.faqItem}>
            <h4>Где взять части билетов?</h4>
            <p>Части билетов вы можете получить от коллег через переводы или в других активностях системы. Следите за уведомлениями и предложениями в приложении.</p>
          </div>

          <div className={styles.faqItem}>
            <h4>Сколько можно выиграть в рулетке?</h4>
            <p>Размер выигрыша варьируется и определяется случайным образом. Обычно это от 1 до 15 спасибок за один спин рулетки.</p>
          </div>

          <div className={styles.faqItem}>
            <h4>Что происходит с частями билетов?</h4>
            <p>Части билетиков и собранные билеты сохраняются и могут быть использованы в любое время.</p>
          </div>
        </div>

        {/* Магазин */}
        <div className={styles.faqSection}>
          <h3 className={styles.sectionTitle}>Корпоративный магазин</h3>
          
          <div className={styles.faqItem}>
            <h4>На что я могу потратить баллы?</h4>
            <p>Баллы можно потратить в разделе "Магазин" на доступные там товары и услуги: промокоды, подписки, бонусы Statix и другие товары из корпоративного каталога.</p>
          </div>

          <div className={styles.faqItem}>
            <h4>Как происходит покупка товара?</h4>
            <p>Выберите товар в магазине, нажмите "Купить" и подтвердите покупку. Спасибки будут списаны с вашего баланса. Если товар с автоматической выдачей, код или ссылка будут предоставлены сразу. Иначе администратор выдаст товар вручную.</p>
          </div>

          <div className={styles.faqItem}>
            <h4>Что такое автоматическая выдача товара?</h4>
            <p>Некоторые товары имеют автоматическую выдачу - это значит, что после покупки вы сразу получите код или ссылку на товар. Для товаров без автоматической выдачи необходимо дождаться выдачи администратором.</p>
          </div>

          <div className={styles.faqItem}>
            <h4>Что делать, если товар закончился?</h4>
            <p>Если товар закончился, он будет помечен как недоступный в магазине. Следите за обновлениями каталога или обратитесь к администратору для уточнения наличия.</p>
          </div>

          <div className={styles.faqItem}>
            <h4>Можно ли вернуть купленный товар?</h4>
            <p>Возврат товаров регулируется политикой администрации. Обратитесь к администратору через Telegram для решения вопроса о возврате.</p>
          </div>
        </div>

        {/* Совместные подарки */}
        <div className={styles.faqSection}>
          <h3 className={styles.sectionTitle}>Совместные подарки</h3>
          
          <div className={styles.faqItem}>
            <h4>Как работает система совместных подарков?</h4>
            <p>При покупке товара, помеченного как "совместный подарок", вы можете пригласить коллегу разделить его. Вы оплачиваете полную стоимость, а коллега получает уведомление с предложением принять или отклонить приглашение.</p>
          </div>

          <div className={styles.faqItem}>
            <h4>Сколько времени действует приглашение?</h4>
            <p>Приглашение на совместный подарок действует 24 часа (или другой срок, установленный администрацией). Если приглашение не принято за это время, средства автоматически возвращаются покупателю.</p>
          </div>

          <div className={styles.faqItem}>
            <h4>Что происходит при отклонении приглашения?</h4>
            <p>Если коллега отклонит приглашение, полная стоимость товара автоматически вернется на ваш баланс спасибок.</p>
          </div>

          <div className={styles.faqItem}>
            <h4>Где посмотреть мои приглашения?</h4>
            <p>Если вам пришло приглашение на совместный подарок, вы получите уведомление в Telegram с кнопками "Принять" или "Отказаться". Также приглашения можно увидеть в разделе магазина.</p>
          </div>
        </div>

        {/* Бонусы Statix */}
        <div className={styles.faqSection}>
          <h3 className={styles.sectionTitle}>Бонусы Statix</h3>
          
          <div className={styles.faqItem}>
            <h4>Что такое бонусы Statix?</h4>
            <p>Бонусы Statix - это интеграция с бонусной системой Statix, позволяющая обменивать спасибки на бонусы. Вы можете выбрать количество бонусов (от 100 до 10000) и купить их за спасибки по установленному курсу.</p>
          </div>

          <div className={styles.faqItem}>
            <h4>Какой курс обмена спасибок на бонусы?</h4>
            <p>Курс обмена устанавливается администратором и может изменяться. По умолчанию: 10 спасибок = 100 бонусов Statix. Точный курс всегда отображается в карточке товара в магазине.</p>
          </div>

          <div className={styles.faqItem}>
            <h4>Как купить бонусы Statix?</h4>
            <p>В разделе "Магазин" найдите карточку "Бонусы Statix". Используйте ползунок для выбора количества бонусов (от 100 до 10000 с шагом 100), нажмите "Купить" и подтвердите покупку. Стоимость рассчитывается автоматически.</p>
          </div>
        </div>

        {/* Бонусная карта */}
        <div className={styles.faqSection}>
          <h3 className={styles.sectionTitle}>Бонусная карта</h3>
          
          <div className={styles.faqItem}>
            <h4>Что такое бонусная карта?</h4>
            <p>Бонусная карта - это ваша персональная карта с QR-кодом, которая доступна в разделе "Профиль". Она может использоваться для идентификации в системе или для других целей, определяемых администрацией.</p>
          </div>

          <div className={styles.faqItem}>
            <h4>Где найти мою бонусную карту?</h4>
            <p>Перейдите в раздел "Профиль" и нажмите на "Бонусная карта". Там вы увидите вашу карту с QR-кодом, который можно использовать для сканирования.</p>
          </div>

          <div className={styles.faqItem}>
            <h4>Можно ли использовать QR-код для чего-то еще?</h4>
            <p>Возможности использования QR-кода определяются администрацией. Обычно он используется для идентификации в системе или для получения дополнительных бонусов.</p>
          </div>
        </div>

        {/* Таблица лидеров */}
        <div className={styles.faqSection}>
          <h3 className={styles.sectionTitle}>Таблица лидеров</h3>
          
          <div className={styles.faqItem}>
            <h4>Как работает таблица лидеров?</h4>
            <p>Таблица лидеров показывает рейтинг пользователей по разным категориям: получатели спасибок за всё время, за текущий месяц, за прошлый месяц, а также рейтинг щедрости (самые активные отправители).</p>
          </div>

          <div className={styles.faqItem}>
            <h4>Как попасть в топ рейтинга?</h4>
            <p>Чтобы попасть в топ рейтинга получателей, нужно получать больше спасибок от коллег. Для попадания в рейтинг щедрости - активно отправлять спасибки другим сотрудникам.</p>
          </div>

          <div className={styles.faqItem}>
            <h4>Как часто обновляется рейтинг?</h4>
            <p>Рейтинг обновляется в реальном времени на основе всех транзакций в системе. Ваша позиция отображается сразу после получения или отправки спасибок.</p>
          </div>

          <div className={styles.faqItem}>
            <h4>Где посмотреть свою позицию в рейтинге?</h4>
            <p>В разделе "Таблица лидеров" вы можете увидеть свою позицию в каждом из доступных рейтингов. Она отображается в отдельной карточке с указанием вашего места.</p>
          </div>
        </div>

        {/* Профиль и настройки */}
        <div className={styles.faqSection}>
          <h3 className={styles.sectionTitle}>Профиль и настройки</h3>
          
          <div className={styles.faqItem}>
            <h4>Как изменить данные профиля?</h4>
            <p>Перейдите в раздел "Профиль" и нажмите "Редактировать профиль". После внесения изменений они будут отправлены на согласование администратору. После одобрения изменения вступят в силу.</p>
          </div>

          <div className={styles.faqItem}>
            <h4>Почему мои изменения профиля требуют одобрения?</h4>
            <p>Это сделано для безопасности и контроля данных в системе. Администратор проверяет изменения, чтобы убедиться в их корректности.</p>
          </div>

          <div className={styles.faqItem}>
            <h4>Как посмотреть историю операций?</h4>
            <p>В разделе "Профиль" нажмите "История", где вы увидите все транзакции: переводы, покупки, выигрыши в рулетке. История отображается с группировкой по датам.</p>
          </div>

          <div className={styles.faqItem}>
            <h4>Где включить повторное обучение?</h4>
            <p>В разделе "Профиль" → "Настройки" есть опция "Повторить обучение", которая позволит вам снова просмотреть интерактивные истории о функциях приложения.</p>
          </div>
        </div>

        {/* Онбординг */}
        <div className={styles.faqSection}>
          <h3 className={styles.sectionTitle}>Обучение и онбординг</h3>
          
          <div className={styles.faqItem}>
            <h4>Что такое онбординг?</h4>
            <p>Онбординг - это интерактивные обучающие истории, которые показываются при первом входе в приложение. Они помогают быстро ознакомиться с основными функциями системы.</p>
          </div>

          <div className={styles.faqItem}>
            <h4>Как посмотреть обучение повторно?</h4>
            <p>Перейдите в раздел "Профиль" → "Настройки" и нажмите "Повторить обучение". Вы сможете снова просмотреть все обучающие истории.</p>
          </div>
        </div>


        {/* Общие вопросы */}
        <div className={styles.faqSection}>
          <h3 className={styles.sectionTitle}>Общие вопросы</h3>
          
          <div className={styles.faqItem}>
            <h4>Приложение не работает, что делать?</h4>
            <p>Попробуйте перезагрузить страницу в Telegram. Если проблема сохраняется, проверьте интернет-соединение или обратитесь к администратору через Telegram.</p>
          </div>

          <div className={styles.faqItem}>
            <h4>Где получить помощь?</h4>
            <p>Для получения помощи обращайтесь к администраторам системы через Telegram. Они помогут решить любые вопросы, связанные с использованием приложения.</p>
          </div>

          <div className={styles.faqItem}>
            <h4>На каких устройствах работает приложение?</h4>
            <p>Приложение работает как мобильное приложение через Telegram WebApp на iOS и Android, а также в десктопной версии Telegram и веб-браузере.</p>
          </div>

          <div className={styles.faqItem}>
            <h4>Нужно ли обновлять приложение?</h4>
            <p>Приложение обновляется автоматически. Вам не нужно ничего делать - просто перезагрузите страницу в Telegram, если заметили новые функции.</p>
          </div>

          <div className={styles.faqItem}>
            <h4>Безопасны ли мои данные?</h4>
            <p>Все данные защищены и хранятся в соответствии с политикой безопасности компании. Аутентификация происходит через Telegram, что обеспечивает безопасный доступ к приложению.</p>
          </div>
        </div>
      </div>

    </PageLayout>
  );
}

export default FaqPage;
